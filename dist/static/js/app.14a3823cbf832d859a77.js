webpackJsonp([1],{"+skl":function(e,a){},"1zI0":function(e,a){},"7utO":function(e,a){},"7wDV":function(e,a){},MMaQ:function(e,a){},NHnr:function(e,a,t){"use strict";Object.defineProperty(a,"__esModule",{value:!0});var l=t("7+uW"),r=t("7t+N"),n=t.n(r),o=(t("osWI"),t("tvR6"),t("+skl"),{render:function(){var e=this.$createElement,a=this._self._c||e;return a("div",{attrs:{id:"app"}},[a("router-view")],1)},staticRenderFns:[]});var i=t("VU/8")({name:"App"},o,!1,function(e){t("1zI0")},null,null).exports,s=t("zL8q"),u=t.n(s),p=t("/ocq"),c=t("XLwt"),d=t.n(c),g=t("mtWM"),v=t.n(g);l.default.use(s.DatePicker);var h={data:function(){var e=this;return{yearMonth:"",value3:"",isFalse:!0,getSolo:[],htt:"",annualAverage:[],departmentName:[],pickerOptions:{disabledDate:function(a){return e.dealDisabledDate(a)}}}},created:function(){var e=this.$route.query.id;this.htt=e,console.log(this.htt),this.Dataee()},mounted:function(){this.Dataee()},methods:{dealDisabledDate:function(e){var a=Date.now();return e.getTime()>a},Dataee:function(){var e=d.a.init(document.getElementById("echart"));e.setOption({title:{text:"工资分析",subtext:"人均发放工资总额",left:"center"},tooltip:{trigger:"item",formatter:"{a} <br/>{b} : {c} ({d}%)"},legend:{orient:"vertical",left:"left",data:[]},series:[{name:"工资",type:"pie",radius:"70%",center:["62%","60%"],data:[],label:{position:"outside",fontSize:"14",formatter:"{b} : {c} ({d}%)"},emphasis:{itemStyle:{shadowBlur:10,shadowOffsetX:0,shadowColor:"rgba(0, 0, 0, 0.5)"}}}]}),e.showLoading();var a=[],t=[];n.a.ajax({type:"get",url:"/test4/togetMonthlyAnalyData?yearMonth="+this.htt,dataType:"json",success:function(l){console.log(l),n.a.each(l.data,function(e,l){a.push(l.departmentName),console.log(l.monthlytotal),t.push({name:l.departmentName,value:l.monthlytotal,number:l.numbers,year:l.yearMonth.slice(0,4)})}),e.hideLoading(),e.setOption({legend:{data:a},series:[{data:t}]})},error:function(a){alert("图表请求数据失败!"),e.hideLoading()}}),e.on("click",function(e){console.log(e),this.departmentName=e.data.name,this.year=e.data.year,console.log(this.departmentName);var a=d.a.init(document.getElementById("ech"));a.setOption({title:{text:"年度分析"},tooltip:{},legend:{data:["工资"]},xAxis:{data:["一月份","二月份","三月份","四月份","五月份","六月份","七月份","八月份","九月份","十月份","十一月份","十二月份"]},yAxis:{},series:[{name:"工资",type:"bar",radius:"30%",barWidth:"30%",center:["62%","40%"],data:[]}]}),a.showLoading();var t=[];n.a.ajax({type:"get",url:"/test4/departmentWageAnalysisData?departmentName="+this.departmentName+"&year="+this.year,dataType:"json",success:function(e){this.annualAverage=e.data.annualAverage,console.log(this.annualAverage),console.log(this.annualAverage),n.a.each(e.data.wageAnalysisDTOList,function(e,a){console.log(a.monthlytotal),t.push({value:a.monthlytotal})}),a.hideLoading(),a.setOption({series:[{data:t}]})},error:function(e){alert("图表请求数据失败!"),a.hideLoading()}})})}}},f={render:function(){var e=this.$createElement,a=this._self._c||e;return a("div",[a("div",{directives:[{name:"show",rawName:"v-show",value:this.isFalse,expression:"isFalse"}],staticStyle:{width:"1300px",height:"400px"},attrs:{id:"echart"}}),this._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:this.isFalse,expression:"isFalse"}],staticStyle:{width:"1300px",height:"400px","margin-top":"50px"},attrs:{id:"ech"}})])},staticRenderFns:[]};var y=t("VU/8")(h,f,!1,function(e){t("tphJ")},"data-v-e4c24ab0",null).exports;l.default.use(s.Table),l.default.use(s.TableColumn),l.default.use(s.Pagination);var b={methods:{handleClick:function(e){console.log(e)},getCurPage:function(e){var a=this;console.log(e),this.$request("http://120.78.186.60:8080/test5/toGetSalaryBaseChangeRecord?page="+e+"&rows="+this.pagesize).then(function(e){a.tableData=e.rows})}},created:function(){var e=this;this.$request("http://120.78.186.60:8080/test5/toGetSalaryBaseChangeRecord?page=1&rows="+this.pagesize).then(function(a){e.tableData=a.rows,console.log(a)})},data:function(){return{pagesize:"10",tableData:[]}}},m={render:function(){var e=this,a=e.$createElement,t=e._self._c||a;return t("div",[t("el-table",{staticStyle:{width:"100%"},attrs:{data:e.tableData,border:""},on:{click:function(a){return e.handleClick(e.scope.row)}}},[t("el-table-column",{attrs:{fixed:"",prop:"salaryBaseChangeRecordId",label:"序号",width:"150"}}),e._v(" "),t("el-table-column",{attrs:{prop:"categoryName",label:"类别",width:"120"}}),e._v(" "),t("el-table-column",{attrs:{label:"项目",width:"200"}},[t("el-table-column",{attrs:{prop:"levelName",label:"职级",width:"200"}}),e._v(" "),t("el-table-column",{attrs:{prop:"projectName",label:"项目",width:"200"}})],1),e._v(" "),t("el-table-column",{attrs:{label:"历史记录",width:"120"}},[t("el-table-column",{attrs:{prop:"amountOfproportion",label:"金额/比例",width:"120"}}),e._v(" "),t("el-table-column",{attrs:{label:"起止时间",width:"300",prop:"beginEndDate"}})],1)],1),e._v(" "),t("div",{staticStyle:{"margin-top":"10px"}},[t("el-pagination",{attrs:{background:"","page-size":10,layout:"prev, pager, next",total:8},on:{"current-change":function(a){return e.getCurPage(a)}}})],1)],1)},staticRenderFns:[]};var W=t("VU/8")(b,m,!1,function(e){t("7wDV")},"data-v-51867668",null).exports,S={name:"MyColumn",props:{col:{type:Object}}},w={render:function(){var e=this.$createElement,a=this._self._c||e;return a("el-table-column",{attrs:{prop:this.col.prop,label:this.col.label,align:"left"}},[this.col.children?this._l(this.col.children,function(e,t){return a("el-table-column",{key:t,attrs:{prop:e.prop,label:e.label,col:e}})}):this._e()],2)},staticRenderFns:[]};var k={components:{MyColumn:t("VU/8")(S,w,!1,function(e){t("wohK")},"data-v-2259947b",null).exports},props:{col:{type:Array},data:{type:Array}}},V={render:function(){var e=this.$createElement,a=this._self._c||e;return a("div",{staticClass:"my-table"},[a("el-table",{attrs:{data:this.data,"row-key":"data"}},this._l(this.col,function(e,t){return a("my-column",{key:t,attrs:{col:e}})}),1)],1)},staticRenderFns:[]};var D={components:{MyTable:t("VU/8")(k,V,!1,function(e){t("Vobm")},"data-v-bf6ae42c",null).exports},data:function(){return{inputvalue:"",value1:"",value2:"",tableDatas:[],header:[{id:100,label:"时间",prop:"date"},{id:200,label:"部门",prop:"departmentName"},{id:300,label:"人数",prop:"departmentId"},{id:400,label:"工资总额",children:[{id:10,label:"值",prop:"totalSalaryvalue"},{id:20,label:"人均",prop:"totalSalaryavgValue"},{id:30,label:"占比",prop:"totalSalarypercentage"}]},{id:500,label:"基本工资",children:[{id:10,label:"值",prop:"basicWagevalue"},{id:20,label:"人均",prop:"basicWageavgValue"},{id:30,label:"占比",prop:"basicWagepercentage"}]},{id:600,label:"工资总额",children:[{id:10,label:"值",prop:"performanceSalaryvalue"},{id:20,label:"人均",prop:"performanceSalaryagevalue"},{id:30,label:"占比",prop:"performanceSalarypercentage"}]},{id:700,label:"职务补贴",children:[{id:10,label:"值",prop:"dutySalaryvalue"},{id:20,label:"人均",prop:"dutySalaryagevalue"},{id:30,label:"占比",prop:"dutySalarypercentage"}]},{id:800,label:"加班补贴",children:[{id:10,label:"值",prop:"overworkSalaryvalue"},{id:20,label:"人均",prop:"overworkSalaryavgValue"},{id:30,label:"占比",prop:"overworkSalarypercentage"}]},{id:900,label:"职级补贴",children:[{id:10,label:"值",prop:"levelWagevalue"},{id:20,label:"人均",prop:"levelWageagevalue"},{id:30,label:"占比",prop:"levelWagepercentage"}]},{id:1e3,label:"倒班补助",children:[{id:10,label:"值",prop:"changeworkSalaryvalue"},{id:20,label:"人均",prop:"changeworkSalaryavgValue"},{id:30,label:"占比",prop:"changeworkSalarypercentage"}]},{id:1e3,label:"夜勤补助",children:[{id:10,label:"值",prop:"nightSalaryvalue"},{id:20,label:"人均",prop:"nightSalaryavgValue"},{id:30,label:"占比",prop:"nightSalarypercentage"}]},{id:1100,label:"住宅补贴",children:[{id:10,label:"值",prop:"houseWagevalue"},{id:20,label:"人均",prop:"houseWageavgValue"},{id:30,label:"占比",prop:"houseWagepercentage"}]},{id:1200,label:"交通补助",children:[{id:10,label:"值",prop:"trafficWagevalue"},{id:20,label:"人均",prop:"trafficWageavgValue"},{id:30,label:"占比",prop:"trafficWagepercentage"}]},{id:1300,label:"特殊岗位",children:[{id:10,label:"值",prop:"spWorkTypeWagevalue"},{id:20,label:"人均",prop:"spWorkTypeWageavgValue"},{id:30,label:"占比",prop:"spWorkTypeWagepercentage"}]},{id:1400,label:"特殊技能及学历补贴",children:[{id:10,label:"值",prop:"spskillMoneyvalue"},{id:20,label:"人均",prop:"spskillMoneyavgValue"},{id:30,label:"占比",prop:"spskillMoneypercentage"}]},{id:1500,label:"满勤补助",children:[{id:10,label:"值",prop:"fullWagevalue"},{id:20,label:"人均",prop:"fullWageavgValue"},{id:30,label:"占比",prop:"fullWagepercentage"}]}]}},created:function(){},methods:{toCharts:function(){this.$router.push("/charts?start="+this.value1+"&end="+this.value2+"&inp="+this.inputvalue)},changeData:function(e){var a=[];return e.forEach(function(e,t){e.basicWageavgValue=e.basicWage.avgValue,e.basicWagepercentage=e.basicWage.percentage,e.basicWagevalue=e.basicWage.value,e.totalSalaryavgValue=e.totalSalary.avgValue,e.totalSalarypercentage=e.totalSalary.percentage,e.totalSalaryvalue=e.totalSalary.value,e.performanceSalaryagevalue=e.performanceSalary.avgValue,e.performanceSalarypercentage=e.performanceSalary.percentage,e.performanceSalaryvalue=e.performanceSalary.value,e.dutySalaryagevalue=e.dutySalary.avgValue,e.dutySalarypercentage=e.dutySalary.percentage,e.dutySalaryvalue=e.dutySalary.value,e.overworkSalaryavgValue=e.overworkSalary.avgValue,e.overworkSalarypercentage=e.overworkSalary.percentage,e.overworkSalaryvalue=e.overworkSalary.value,e.levelWagevalue=e.levelWage.avgValue,e.levelWagepercentage=e.levelWage.percentage,e.levelWagevalue=e.levelWage.value,e.changeworkSalaryavgValue=e.changeworkSalary.avgValue,e.changeworkSalarypercentage=e.changeworkSalary.percentage,e.changeworkSalaryvalue=e.changeworkSalary.value,e.nightSalaryavgValue=e.nightSalary.avgValue,e.nightSalarypercentage=e.nightSalary.percentage,e.nightSalaryvalue=e.nightSalary.value,e.houseWageavgValue=e.houseWage.avgValue,e.houseWagepercentage=e.houseWage.percentage,e.houseWagevalue=e.houseWage.value,e.trafficWageavgValue=e.trafficWage.avgValue,e.trafficWagepercentage=e.trafficWage.percentage,e.trafficWagevalue=e.trafficWage.value,e.spWorkTypeWage&&(e.spWorkTypeWageavgValue=e.spWorkTypeWage.avgValue,e.spWorkTypeWagepercentage=e.spWorkTypeWage.percentage,e.spWorkTypeWagevalue=e.spWorkTypeWage.value),e.spskillMoneyavgValue=e.spskillMoney.avgValue,e.spskillMoneypercentage=e.spskillMoney.percentage,e.spskillMoneyvalue=e.spskillMoney.value,e.fullWageavgValue=e.fullWage.avgValue,e.fullWagepercentage=e.fullWage.percentage,e.fullWagevalue=e.fullWage.value,a.push(e)}),a},toTable:function(){var e=this;v.a.get("http://120.78.186.60:8080/test5/toAnalysis?startDate="+e.value1+"&endDate="+e.value2+"&departmentName="+e.inputvalue).then(function(a){e.tableDatas=e.changeData(a.data.data)})}}},_={render:function(){var e=this,a=e.$createElement,t=e._self._c||a;return t("div",{staticClass:"table"},[t("header",[t("div",{staticClass:"input"},[t("span",{staticClass:"section"},[e._v("部门")]),e._v(" "),t("el-input",{attrs:{placeholder:"请输入部门"},model:{value:e.inputvalue,callback:function(a){e.inputvalue=a},expression:"inputvalue"}})],1),e._v(" "),t("div",{staticClass:"time"},[t("el-date-picker",{attrs:{type:"month",placeholder:"选择月","popper-class":"dateName","value-format":"yyyy-MM"},model:{value:e.value1,callback:function(a){e.value1=a},expression:"value1"}}),e._v(" "),t("el-date-picker",{attrs:{type:"month",placeholder:"选择月","value-format":"yyyy-MM"},model:{value:e.value2,callback:function(a){e.value2=a},expression:"value2"}})],1),e._v(" "),t("el-button",{on:{click:e.toTable}},[e._v("查询")]),e._v(" "),t("el-button",{staticClass:"charts",attrs:{type:"success",size:"medium"},on:{click:e.toCharts}},[e._v("查看图表")])],1),e._v(" "),t("section",[t("MyTable",{attrs:{col:e.header,data:e.tableDatas}})],1)])},staticRenderFns:[]};var x=t("VU/8")(D,_,!1,function(e){t("MMaQ")},"data-v-d5f546ac",null).exports,M={data:function(){return{inputvalue:"",value1:"",value2:"",pipData:[]}},watch:{pipData:function(){this.drew()}},created:function(){this.toTable(this.$route.query.start||"",this.$route.query.end||"",this.$route.query.ipt||"")},methods:{toback:function(){this.$router.go(-1)},initOptions:function(){return{title:{text:"部门饼状数据",left:"center"},tooltip:{trigger:"item",formatter:"{a} <br/>{b} : {c} ({d}%)"},series:[{name:"部门",type:"pie",radius:"80%",center:["50%","60%"],data:this.toSetData(),emphasis:{itemStyle:{shadowBlur:10,shadowOffsetX:0,shadowColor:"rgba(0, 0, 0, 0.5)"}},itemStyle:{normal:{label:{show:!1},labelLine:{show:!1}}}}]}},toSetData:function(){var e=[];return this.pipData.length>1?this.pipData.forEach(function(a,t){e.push({value:a.monthlytotal,name:a.departmentName})}):this.pipData.forEach(function(a,t){e.push({value:a.basicWage,name:"基本工资"},{value:a.performanceSalary,name:"评价工资"},{value:a.dutySalary,name:"职务补贴"},{value:a.overworkSalary,name:"加班补贴"},{value:a.levelWage,name:"职级补贴"},{value:a.changeworkSalary,name:"倒班补助"},{value:a.nightSalary,name:"夜勤补助"},{value:a.houseWage,name:"住宅补贴"},{value:a.trafficWage,name:"交通补助"},{value:a.spWorkTypeWage,name:"特殊岗位"},{value:a.spskillMoney,name:"特殊技能及学历补贴"},{value:a.fullWage,name:"满勤补助"})}),e},toTable:function(e,a,t){var l=this;v.a.get("http://120.78.186.60:8080/test5/togetMonthlyAnalyData?startDate="+e+"&endDate="+a+"&departmentName="+t).then(function(e){l.pipData=e.data.data})},drew:function(){this.$echarts.init(document.getElementById("list")).setOption(this.initOptions())}}},T={render:function(){var e=this.$createElement,a=this._self._c||e;return a("div",{staticClass:"charts"},[a("div",{staticClass:"back",on:{click:this.toback}},[this._v("返回上一页")]),this._v(" "),a("section",[a("div",{style:{width:"500px",height:"500px",margin:"0 auto",zIndex:"10"},attrs:{id:"list"}})])])},staticRenderFns:[]};var C=t("VU/8")(M,T,!1,function(e){t("gKMS"),t("emHu")},"data-v-a3f4a1ce",null).exports;l.default.use(p.a);var N=new p.a({routes:[{path:"/index",component:y},{path:"/table",component:x},{path:"/charts",component:C},{path:"/index1",component:W},{path:"*",redirect:"/table"}]}),O=t("BTaQ"),$=t.n(O);t("rplX");l.default.prototype.$echarts=d.a,l.default.prototype.$request=function(e,a){return function(e){var a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"get",t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},l=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},r=null,n=a;if("file"===a){if(n="post",t instanceof Object)for(var o in r=new FormData,t)r.append(o,t[o])}else if("post"===a){if(t instanceof Object)for(var i in r=new URLSearchParams,t)r.append(i,t[i]);n=a}var s={method:n,url:e,data:r,proxy:!0};if("file"===a&&l instanceof Object)for(var u in l)s[u]=l[u];return v()(s).then(function(e){return e.data})}(e,a,arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},arguments.length>3&&void 0!==arguments[3]?arguments[3]:{})},l.default.config.productionTip=!1,l.default.use($.a),l.default.use(u.a),new l.default({el:"#app",router:N,components:{App:i},template:"<App/>"})},Vobm:function(e,a){},emHu:function(e,a){},gKMS:function(e,a){},tphJ:function(e,a){},tvR6:function(e,a){},wohK:function(e,a){}},["NHnr"]);
//# sourceMappingURL=app.14a3823cbf832d859a77.js.map